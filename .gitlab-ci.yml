# GitLab Duo Agent Platform: Actuation Receiver
stages:
  - self_heal

execute_remediation:
  stage: self_heal
  image: google/cloud-sdk:latest
  script:
    - echo "RECEPTION: Autonomous Remediation Signal Received."
    - echo "COMMAND TO EXECUTE: $REMEDIATION_CMD"
    # The command generated by Claude/Gemini is executed here:
    - eval $REMEDIATION_CMD
  rules:
    - if: '$CI_PIPELINE_SOURCE == "trigger"'